onmessage = function(msg) {

  msg.data.soil.postMessage({
    type: "request water",
    requested_water: 27,
  });

}

onconnect = function(msg) {
  var port = msg.ports[0];
  port.postMessage('Hello world');
  port.onmessage = function(e) {
    port.postMessage('pong');
  }
}
